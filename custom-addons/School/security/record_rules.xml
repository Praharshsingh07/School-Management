<odoo>
    <data noupdate="1">
        <!-- Student: Can only see their own data -->
        <record id="school_student_own_rule" model="ir.rule">
            <field name="name">Students can only see their records</field>
            <field name="model_id" ref="model_school_student"/>
            <field name="groups" eval="[(4, ref('group_school_student'))]"/>
            <field name="domain_force">[('user_id', '=', user.id)]</field>
        </record>

        <!-- Teacher: Can only see their assigned students -->
        <record id="school_teacher_rule" model="ir.rule">
            <field name="name">Teachers can only see their students</field>
            <field name="model_id" ref="model_school_attendance"/>
            <field name="groups" eval="[(4, ref('group_school_teacher'))]"/>
            <field name="domain_force">[('teacher_id', '=', user.teacher_id.id)]</field>
        </record>

        <!-- Admin: Full access -->
        <record id="school_admin_rule" model="ir.rule">
            <field name="name">Admin Full Access</field>
            <field name="model_id" ref="model_school_student"/>
            <field name="groups" eval="[(4, ref('group_school_admin'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>
    </data>
</odoo>
